{"ast":null,"code":"var _jsxFileName = \"/Users/andreamanna/Desktop/Pokemon/fe/src/components/pages/Homepage.jsx\",\n  _s = $RefreshSig$();\n/** @format */\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport './homepage.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Homepage = () => {\n  _s();\n  const URL = 'https://pokeapi.co/api/v2/pokemon/';\n  const [pokemonData, setPokemonData] = useState([]);\n  const [buttonClicked, setButtonClicked] = useState(false);\n  const [dialogText, setDialogText] = useState('');\n  const intervalRef = useRef(null);\n  useEffect(() => {\n    // Al caricamento della pagina, puoi mostrare i card circle vuoti\n    const initialPokemonData = Array.from({\n      length: 6\n    }).fill(null);\n    setPokemonData(initialPokemonData);\n\n    // Inizia il dialogo automaticamente\n    intervalRef.current = animateText();\n\n    // Cleanup della funzione quando il componente si smonta\n    return () => clearInterval(intervalRef.current);\n  }, []);\n  const getRandomPokemon = async () => {\n    const randomPokemonData = [];\n    const existingPokemonIds = new Set();\n    while (randomPokemonData.length < 6) {\n      const id = Math.floor(Math.random() * 150) + 1;\n\n      // Check if the Pokemon is not already in the array\n      if (!existingPokemonIds.has(id)) {\n        existingPokemonIds.add(id);\n        const finalUrl = URL + id;\n        try {\n          const response = await fetch(finalUrl);\n          const data = await response.json();\n          randomPokemonData.push(data);\n        } catch (error) {\n          console.error('Errore nella richiesta API:', error);\n        }\n      }\n    }\n    setPokemonData(randomPokemonData);\n    setButtonClicked(true); // Imposta il bottone come premuto\n  };\n  const generateCard = (data, index) => {\n    if (!data) {\n      // Se il dato è vuoto, mostra il card circle vuoto\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-circle\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pokemon-info\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this);\n    }\n    const imgSrc = data.sprites.other.dream_world.front_default;\n    const pokeName = data.name[0].toUpperCase() + data.name.slice(1);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-circle\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pokemon-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: imgSrc,\n          alt: pokeName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: pokeName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n  };\n  const animateText = () => {\n    let i = 0;\n    const pokemonDialog = 'Ciao, giovane Allenatore! Benvenuto nel meraviglioso mondo dei Pokémon! Sono il Professor Oak, il tuo mentore in questa straordinaria avventura. Prima di iniziare, ricorda che ci sono Pokémon da scoprire, sfide da affrontare e amicizie da stringere. Scegli la squadra con la quale affronterai questo viaggio, clicca sulla Pokèball!';\n    setDialogText(pokemonDialog[0]);\n    const interval = setInterval(() => {\n      setDialogText(prevText => prevText + pokemonDialog[i]);\n      i++;\n      if (i === pokemonDialog.length) {\n        clearInterval(interval);\n        setDialogText(pokemonDialog); // Imposta il testo completo alla fine dell'animazione\n      }\n    }, 50);\n    return interval;\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sfondo\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"team\",\n          children: [pokemonData.map((pokemon, index) => generateCard(pokemon, index)), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"pokeball\",\n              onClick: getRandomPokemon,\n              disabled: buttonClicked\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"professore\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://media.pokemoncentral.it/wiki/e/ed/Masters_Professor_Oak.png\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dialogo\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"professor-intro\",\n              children: dialogText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(Homepage, \"W4KrLFIqDdkDledfOFW29rUU7FA=\");\n_c = Homepage;\nexport default Homepage;\nvar _c;\n$RefreshReg$(_c, \"Homepage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","Homepage","_s","URL","pokemonData","setPokemonData","buttonClicked","setButtonClicked","dialogText","setDialogText","intervalRef","initialPokemonData","Array","from","length","fill","current","animateText","clearInterval","getRandomPokemon","randomPokemonData","existingPokemonIds","Set","id","Math","floor","random","has","add","finalUrl","response","fetch","data","json","push","error","console","generateCard","index","className","children","fileName","_jsxFileName","lineNumber","columnNumber","imgSrc","sprites","other","dream_world","front_default","pokeName","name","toUpperCase","slice","src","alt","i","pokemonDialog","interval","setInterval","prevText","map","pokemon","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/andreamanna/Desktop/Pokemon/fe/src/components/pages/Homepage.jsx"],"sourcesContent":["/** @format */\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport './homepage.scss';\n\nconst Homepage = () => {\n  const URL = 'https://pokeapi.co/api/v2/pokemon/';\n\n  const [pokemonData, setPokemonData] = useState([]);\n  const [buttonClicked, setButtonClicked] = useState(false);\n  const [dialogText, setDialogText] = useState('');\n\n  const intervalRef = useRef(null);\n\n  useEffect(() => {\n    // Al caricamento della pagina, puoi mostrare i card circle vuoti\n    const initialPokemonData = Array.from({ length: 6 }).fill(null);\n    setPokemonData(initialPokemonData);\n\n    // Inizia il dialogo automaticamente\n    intervalRef.current = animateText();\n\n    // Cleanup della funzione quando il componente si smonta\n    return () => clearInterval(intervalRef.current);\n  }, []);\n\n  const getRandomPokemon = async () => {\n    const randomPokemonData = [];\n    const existingPokemonIds = new Set();\n\n    while (randomPokemonData.length < 6) {\n      const id = Math.floor(Math.random() * 150) + 1;\n\n      // Check if the Pokemon is not already in the array\n      if (!existingPokemonIds.has(id)) {\n        existingPokemonIds.add(id);\n\n        const finalUrl = URL + id;\n\n        try {\n          const response = await fetch(finalUrl);\n          const data = await response.json();\n          randomPokemonData.push(data);\n        } catch (error) {\n          console.error('Errore nella richiesta API:', error);\n        }\n      }\n    }\n\n    setPokemonData(randomPokemonData);\n    setButtonClicked(true); // Imposta il bottone come premuto\n  };\n\n  const generateCard = (data, index) => {\n    if (!data) {\n      // Se il dato è vuoto, mostra il card circle vuoto\n      return (\n        <div\n          key={index}\n          className='card-circle'>\n          <div className='pokemon-info'></div>\n        </div>\n      );\n    }\n\n    const imgSrc = data.sprites.other.dream_world.front_default;\n    const pokeName = data.name[0].toUpperCase() + data.name.slice(1);\n\n    return (\n      <div\n        key={index}\n        className='card-circle'>\n        <div className='pokemon-info'>\n          <img\n            src={imgSrc}\n            alt={pokeName}\n          />\n          <p>{pokeName}</p>\n        </div>\n      </div>\n    );\n  };\n\n  const animateText = () => {\n    let i = 0;\n    const pokemonDialog =\n      'Ciao, giovane Allenatore! Benvenuto nel meraviglioso mondo dei Pokémon! Sono il Professor Oak, il tuo mentore in questa straordinaria avventura. Prima di iniziare, ricorda che ci sono Pokémon da scoprire, sfide da affrontare e amicizie da stringere. Scegli la squadra con la quale affronterai questo viaggio, clicca sulla Pokèball!';\n    setDialogText(pokemonDialog[0]);\n    const interval = setInterval(() => {\n      setDialogText(prevText => prevText + pokemonDialog[i]);\n      i++;\n\n      if (i === pokemonDialog.length) {\n        clearInterval(interval);\n        setDialogText(pokemonDialog); // Imposta il testo completo alla fine dell'animazione\n      }\n    }, 50);\n\n    return interval;\n  };\n\n  return (\n    <>\n      <div className='sfondo'>\n        <div className='container'>\n          <div className='team'>\n            {pokemonData.map((pokemon, index) => generateCard(pokemon, index))}\n\n            <div>\n              <button\n                className='pokeball'\n                onClick={getRandomPokemon}\n                disabled={buttonClicked}></button>\n            </div>\n          </div>\n          <div className='professore'>\n            <img\n              src='https://media.pokemoncentral.it/wiki/e/ed/Masters_Professor_Oak.png'\n              alt=''\n            />\n            <div className='dialogo'>\n              <span className='professor-intro'>{dialogText}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Homepage;\n"],"mappings":";;AAAA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAO,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEzB,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrB,MAAMC,GAAG,GAAG,oCAAoC;EAEhD,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACY,aAAa,EAAEC,gBAAgB,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAACc,UAAU,EAAEC,aAAa,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAEhD,MAAMgB,WAAW,GAAGd,MAAM,CAAC,IAAI,CAAC;EAEhCD,SAAS,CAAC,MAAM;IACd;IACA,MAAMgB,kBAAkB,GAAGC,KAAK,CAACC,IAAI,CAAC;MAAEC,MAAM,EAAE;IAAE,CAAC,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;IAC/DV,cAAc,CAACM,kBAAkB,CAAC;;IAElC;IACAD,WAAW,CAACM,OAAO,GAAGC,WAAW,CAAC,CAAC;;IAEnC;IACA,OAAO,MAAMC,aAAa,CAACR,WAAW,CAACM,OAAO,CAAC;EACjD,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMG,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACnC,MAAMC,iBAAiB,GAAG,EAAE;IAC5B,MAAMC,kBAAkB,GAAG,IAAIC,GAAG,CAAC,CAAC;IAEpC,OAAOF,iBAAiB,CAACN,MAAM,GAAG,CAAC,EAAE;MACnC,MAAMS,EAAE,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC;;MAE9C;MACA,IAAI,CAACL,kBAAkB,CAACM,GAAG,CAACJ,EAAE,CAAC,EAAE;QAC/BF,kBAAkB,CAACO,GAAG,CAACL,EAAE,CAAC;QAE1B,MAAMM,QAAQ,GAAG1B,GAAG,GAAGoB,EAAE;QAEzB,IAAI;UACF,MAAMO,QAAQ,GAAG,MAAMC,KAAK,CAACF,QAAQ,CAAC;UACtC,MAAMG,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;UAClCb,iBAAiB,CAACc,IAAI,CAACF,IAAI,CAAC;QAC9B,CAAC,CAAC,OAAOG,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;QACrD;MACF;IACF;IAEA9B,cAAc,CAACe,iBAAiB,CAAC;IACjCb,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC;EAC1B,CAAC;EAED,MAAM8B,YAAY,GAAGA,CAACL,IAAI,EAAEM,KAAK,KAAK;IACpC,IAAI,CAACN,IAAI,EAAE;MACT;MACA,oBACElC,OAAA;QAEEyC,SAAS,EAAC,aAAa;QAAAC,QAAA,eACvB1C,OAAA;UAAKyC,SAAS,EAAC;QAAc;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM;MAAC,GAF/BN,KAAK;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAGP,CAAC;IAEV;IAEA,MAAMC,MAAM,GAAGb,IAAI,CAACc,OAAO,CAACC,KAAK,CAACC,WAAW,CAACC,aAAa;IAC3D,MAAMC,QAAQ,GAAGlB,IAAI,CAACmB,IAAI,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAGpB,IAAI,CAACmB,IAAI,CAACE,KAAK,CAAC,CAAC,CAAC;IAEhE,oBACEvD,OAAA;MAEEyC,SAAS,EAAC,aAAa;MAAAC,QAAA,eACvB1C,OAAA;QAAKyC,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC3B1C,OAAA;UACEwD,GAAG,EAAET,MAAO;UACZU,GAAG,EAAEL;QAAS;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACf,CAAC,eACF9C,OAAA;UAAA0C,QAAA,EAAIU;QAAQ;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACd;IAAC,GARDN,KAAK;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OASP,CAAC;EAEV,CAAC;EAED,MAAM3B,WAAW,GAAGA,CAAA,KAAM;IACxB,IAAIuC,CAAC,GAAG,CAAC;IACT,MAAMC,aAAa,GACjB,6UAA6U;IAC/UhD,aAAa,CAACgD,aAAa,CAAC,CAAC,CAAC,CAAC;IAC/B,MAAMC,QAAQ,GAAGC,WAAW,CAAC,MAAM;MACjClD,aAAa,CAACmD,QAAQ,IAAIA,QAAQ,GAAGH,aAAa,CAACD,CAAC,CAAC,CAAC;MACtDA,CAAC,EAAE;MAEH,IAAIA,CAAC,KAAKC,aAAa,CAAC3C,MAAM,EAAE;QAC9BI,aAAa,CAACwC,QAAQ,CAAC;QACvBjD,aAAa,CAACgD,aAAa,CAAC,CAAC,CAAC;MAChC;IACF,CAAC,EAAE,EAAE,CAAC;IAEN,OAAOC,QAAQ;EACjB,CAAC;EAED,oBACE5D,OAAA,CAAAE,SAAA;IAAAwC,QAAA,eACE1C,OAAA;MAAKyC,SAAS,EAAC,QAAQ;MAAAC,QAAA,eACrB1C,OAAA;QAAKyC,SAAS,EAAC,WAAW;QAAAC,QAAA,gBACxB1C,OAAA;UAAKyC,SAAS,EAAC,MAAM;UAAAC,QAAA,GAClBpC,WAAW,CAACyD,GAAG,CAAC,CAACC,OAAO,EAAExB,KAAK,KAAKD,YAAY,CAACyB,OAAO,EAAExB,KAAK,CAAC,CAAC,eAElExC,OAAA;YAAA0C,QAAA,eACE1C,OAAA;cACEyC,SAAS,EAAC,UAAU;cACpBwB,OAAO,EAAE5C,gBAAiB;cAC1B6C,QAAQ,EAAE1D;YAAc;cAAAmC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAS;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACN9C,OAAA;UAAKyC,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB1C,OAAA;YACEwD,GAAG,EAAC,qEAAqE;YACzEC,GAAG,EAAC;UAAE;YAAAd,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACP,CAAC,eACF9C,OAAA;YAAKyC,SAAS,EAAC,SAAS;YAAAC,QAAA,eACtB1C,OAAA;cAAMyC,SAAS,EAAC,iBAAiB;cAAAC,QAAA,EAAEhC;YAAU;cAAAiC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC,gBACN,CAAC;AAEP,CAAC;AAAC1C,EAAA,CA3HID,QAAQ;AAAAgE,EAAA,GAARhE,QAAQ;AA6Hd,eAAeA,QAAQ;AAAC,IAAAgE,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}